<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" xml:lang="en-us">
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta content="public" name="security" />
<meta content="index,follow" name="Robots" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta content="reference" name="DC.Type" />
<meta name="DC.Title" content="deregister=false attribute" />
<meta name="abstract" content="The deregister=false attribute, if set to true (the default), deregisters the embedded JDBC driver from the DriverManager after a shutdown, so that the Derby classes can be garbage-collected." />
<meta name="description" content="The deregister=false attribute, if set to true (the default), deregisters the embedded JDBC driver from the DriverManager after a shutdown, so that the Derby classes can be garbage-collected." />
<meta content="deregister=false database connection URL attribute, embedded driver, deregistering, driver, deregistering embedded, attributes, deregister" name="DC.subject" />
<meta content="deregister=false database connection URL attribute, embedded driver, deregistering, driver, deregistering embedded, attributes, deregister" name="keywords" />
<meta scheme="URI" name="DC.Relation" content="rrefattrib24612.html" />
<meta content="XHTML" name="DC.Format" />
<meta content="rrefattribderegister" name="DC.Identifier" />
<meta content="en-us" name="DC.Language" />
<link href="commonltr.css" type="text/css" rel="stylesheet" />
<title>deregister=false attribute</title>
</head>
<body id="rrefattribderegister"><a name="rrefattribderegister"><!-- --></a>


<h1 class="topictitle1">deregister=false attribute</h1>



<div><p>The <em>deregister=false</em> attribute, if set to <em>true</em> (the
default), deregisters the embedded JDBC driver from the <em>DriverManager</em>
after a shutdown, so that the
<span>Derby</span> classes can be
garbage-collected.</p>

<div class="section">
<p>If you are running with a security manager on JDK 8 or higher, you must grant
the following permission to <em>derby.jar</em> to allow the JDBC driver to be
deregistered:</p>

<pre>permission java.sql.SQLPermission "deregisterDriver";</pre>

<p>See "Configuring Java security" in the
<span><em>Derby Security Guide</em></span> for details. If you do not grant
this permission when using a security manager, an error message and stack trace
will appear in <em>derby.log</em> on shutdown, and the embedded JDBC driver
will remain registered.</p>

<p>If you are running with a security manager on JDK 6 or 7, you do not
need to set this permission.</p>
 
<p>You initially register the embedded driver by calling a <em>DriverManager</em>
method such as <em>DriverManager.getDrivers()</em> or
<em>DriverManager.getConnection()</em>.</p>

<p>Once the embedded driver is registered, you can shut down the
<span>Derby</span> engine by using the
<em><a href="rrefattrib16471.html">shutdown=true</a></em> connection URL
attribute. If you also specify <em>deregister=false</em> with the shutdown URL,
the following will happen:</p>

<ul>
<li>The embedded driver will remain registered.</li>

<li>The <span>Derby</span> classes will
<strong>not</strong> be garbage-collected.</li>

<li>You can get a <span>Derby</span>
connection by issuing a call to <em>DriverManager.getConnection()</em>.</li>

</ul>

<p>In contrast, if you use the default setting of <em>deregister=true</em> when
you shut down the database, the following will happen:</p>

<ul>
<li>The embedded driver will be deregistered.</li>

<li>The <span>Derby</span> classes will be
garbage-collected.</li>

<li>You will have to call
<em>Class.forName("org.apache.derby.jdbc.EmbeddedDriver").newInstance()</em>
before you obtain a new <span>Derby</span>
connection by calling <em>DriverManager.getConnection()</em>.</li>

</ul>

<p>This attribute has no meaning if it is used with the network driver.</p>

</div>

<div class="section"><h2 class="sectiontitle">Combining with other attributes</h2>
<p>This attribute is valid only when issued in conjunction with the 
<em>shutdown=true</em> attribute.</p>

</div>

<div class="example"><h2 class="sectiontitle">Examples</h2>
<pre><strong>-- shut down salesDB and deregister the driver
jdbc:derby:salesDB;shutdown=true
-- shut down salesDB, but do not deregister the driver
jdbc:derby:salesDB;shutdown=true;deregister=false</strong></pre>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="rrefattrib24612.html" title="Derby allows you to supply a list of attributes to its database connection URL, which is a JDBC feature.">Setting attributes for the database connection URL</a></div>
</div>
</div>

</body>
</html>
